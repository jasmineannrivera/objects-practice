<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
</head>
<body>

<script>

    //TODO: Write a function(s) to find the frequency of languages used in a user's github repos.  Use the github API- https://api.github.com/users/{username}/repos
    // EX: https://api.github.com/users/jasmineannrivera/repos => HTML-5, Java-9, JavaScript-6, TSQL-1, null-5

    function apiCall(url) {
        fetch(url)
            .then(response => response.json())
            .then(function (data) {
                let freqCounter = {};
                data.map(function (repo) {
                    console.log(repo.language);
                    // freqCounter[repo.language] = (freqCounter[repo.language] || 0) + 1;
	                if (!freqCounter[repo.language]) {
	                    freqCounter[repo.language] = 1;
	                } else
	                    freqCounter[repo.language]++;

                });
                console.log(freqCounter);

            })
            .catch(err => {
                console.log("Something went wrong!" + err)
            })
    }

    apiCall("https://api.github.com/users/jasmineannrivera/repos");


    const studentArr = [
        [58, "algebra"],
        [58, "athletics"],
        [63, "art"],
        [88, "algebra"],
        [72, "english"],
        [77, "calculus"],
        [69, "art"]
    ];

    //TODO: Write a function that returns which students from the StudentArr share the same classes.  Students are identified by their id numbers.  Use any data structure.

    function students(array) {
        //initialize empty obj
        let obj = {};
        //look at each subarr of arr
        for (let studentClass of array) {
            //define var subject as the second element of each subarr
            let subject = studentClass[1];
            //define var student as the first element of each subarr
            let student = studentClass[0];
            if (!obj[subject]) {
                obj[subject] = [];
            }
            obj[subject].push(student);
        }
        console.log(obj);
    }

    students(studentArr);
</script>
</body>
</html>